class Canvas{constructor(t,e,s,i,n,a){this.reservationImpossibleElt=t,this.boutonReservationElt=e,this.signatureCanvasElt=s,this.btnAnnulerElt=i,this.inputNomElt=n,this.inputPrenomElt=a,this.canvasElt=document.getElementById("canvas"),this.ctx=this.canvasElt.getContext("2d"),this.dessin=!1}initialisationCanvas(){this.affichageDuCanvas(),this.cacherLeCanvasSiUtilisateurAppuiSurLeBtnAnnuler(),this.miseEnFormeDuTrait()}affichageDuCanvas(){this.boutonReservationElt.addEventListener("click",function(t){0===this.inputNomElt.value.length||0===this.inputPrenomElt.value.length||"La station est fermée. Sélectionner une autre station"===this.reservationImpossibleElt.textContent||"La station est ouverte mais aucun vélo n'est disponible"===this.reservationImpossibleElt.textContent?t.preventDefault:(this.signatureCanvasElt.style.display="flex",localStorage.setItem("Nom",this.inputNomElt.value),localStorage.setItem("Prenom",this.inputPrenomElt.value),this.ctx.clearRect(0,0,800,300))}.bind(this))}cacherLeCanvasSiUtilisateurAppuiSurLeBtnAnnuler(){this.btnAnnulerElt.addEventListener("click",function(){this.signatureCanvasElt.style.display="none"}.bind(this))}miseEnFormeDuTrait(){this.ctx.strokeStyle="white",this.ctx.lineWidth=1,this.dessinerAvecLaSouris(),this.dessinerAvecLeDoigt()}dessinerAvecLaSouris(){this.canvasElt.addEventListener("mousedown",function(t){this.ctx.beginPath(),this.ctx.moveTo(t.offsetX,t.offsetY),this.dessin=!0}.bind(this)),this.canvasElt.addEventListener("mousemove",function(t){!0===this.dessin&&this.dessiner(t.offsetX,t.offsetY)}.bind(this)),this.canvasElt.addEventListener("mouseup",function(t){this.dessin=!1}.bind(this))}dessinerAvecLeDoigt(){this.canvasElt.addEventListener("touchstart",function(t){this.dessin=!0,this.ctx.beginPath();var e=t.touches[0].clientX-this.canvasElt.getBoundingClientRect().left,s=t.touches[0].clientY-this.canvasElt.getBoundingClientRect().top;this.ctx.moveTo(e,s),t.preventDefault()}.bind(this)),this.canvasElt.addEventListener("touchmove",function(t){var e=t.touches[0].clientX-this.canvasElt.getBoundingClientRect().left,s=t.touches[0].clientY-this.canvasElt.getBoundingClientRect().top;!0===this.dessin&&this.dessiner(e,s),t.preventDefault()}.bind(this)),this.canvasElt.addEventListener("touchend",function(t){this.dessin=!1}.bind(this))}dessiner(t,e){this.ctx.lineTo(t,e),this.ctx.stroke()}}